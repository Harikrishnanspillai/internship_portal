{% extends "base.html" %}
{% block content %}

<h2>Welcome, {{ info.name }}</h2>
<hr>

<!-- Student Info -->
<div class="card">
    <h3>Profile Summary</h3>
    <p><b>Department:</b> {{ info.department }}</p>
    <p><b>CGPA:</b> {{ info.cgpa }}</p>

    <a href="{{ url_for('student.profile') }}" class="btn">Edit Profile</a>
</div>


<!-- Applications -->
<div class="card">
    <h3>Applications</h3>
    <p>Total applications: {{ app_count }}</p>

    <a href="{{ url_for('student.programs') }}" class="btn">
        Browse Programs
    </a>
</div>


<!-- Visa -->
<div class="card">
    <h3>Visa Status</h3>

    {% if visa %}
        <p><b>Country:</b> {{ visa.country }}</p>
        <p><b>Status:</b> {{ visa.application_status }}</p>
        <p><b>Issued:</b> {{ visa.issued_date or '-' }}</p>
        <p><b>Expires:</b> {{ visa.expiry_date or '-' }}</p>
    {% else %}
        <p>No visa applications yet.</p>
    {% endif %}

    <a href="{{ url_for('student.visa_applications') }}" class="btn">
        Visa Application
    </a>
</div>


<!-- Housing -->
<div class="card">
    <h3>Housing Status</h3>

    {% if housing %}
        <p><b>Location:</b> {{ housing.location }}</p>
        <p><b>Room Type:</b> {{ housing.room_type }}</p>
        <p><b>Rent:</b> {{ housing.rent }}</p>
        <p><b>Allotted:</b> {{ housing.allotment_date }}</p>
    {% else %}
        <p>No housing assigned.</p>
    {% endif %}

    <a href="{{ url_for('student.housing') }}" class="btn">
        View Housing
    </a>
</div>

{% endblock %}
