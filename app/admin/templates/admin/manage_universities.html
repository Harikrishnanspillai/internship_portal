{% extends "base.html" %}
{% block content %}

<h2>Manage Universities</h2>
<hr>

<!-- Create New University -->
<form method="POST" action="{{ url_for('admin.create_university') }}" class="form-section">

    <div class="form-group">
        <label>Name</label>
        <input type="text" name="name" required>
    </div>

    <div class="form-group">
        <label>Country</label>
        <input type="text" name="country" required>
    </div>

    <div class="form-group">
        <label>Ranking</label>
        <input type="number" name="ranking" min="1">
    </div>

    <div class="form-group">
        <label>Contact Email</label>
        <input type="email" name="contact_email" required>
    </div>

    <button type="submit" class="btn-primary">Add University</button>
</form>

<hr>

<h3>Existing Universities</h3>

<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Country</th>
            <th>Ranking</th>
            <th>Email</th>
            <th>Delete</th>
        </tr>
    </thead>

    <tbody>
        {% for u in data %}
        <tr>
            <td>{{ u.university_id }}</td>
            <td>{{ u.name }}</td>
            <td>{{ u.country }}</td>
            <td>{{ u.ranking }}</td>
            <td>{{ u.contact_email }}</td>
            <td>
                <a class="btn del" href="{{ url_for('admin.delete_university', uid=u.university_id) }}"
                   onclick="return confirm('Delete this university?')">Delete</a>
            </td>
        </tr>
        {% else %}
        <tr>
            <td colspan="6">No universities found.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
